name: "foot"
version: "1.25.0"
release: "1"
description: "A fast, lightweight and minimalistic Wayland terminal emulator"
sources:
  - "https://codeberg.org/dnkl/foot/archive/$version.tar.gz"
sha256sum:
  - "442a42d576ec72dd50f2d3faea8a664230a47bac79dc1eb6e7c9125ee76c130f"
depends:
  - "wayland-protocols"
  - "wayland"
  - "fontconfig"
  - "libxkbcommon"
  - "pixman"
  - "freetype"
build_depends:
  - "meson"

build {
  env CFLAGS="${CFLAGS} -Wno-error=deprecated-declarations"
  exec "meson --prefix=/usr build/"
  exec "ninja -C build/"
}

package {
  exec "git config --global --add safe.directory /tmp/kpkg/srcdir/foot/subprojects/fcft"
  exec "DESTDIR=$ROOT ninja -C build/ install"
}

