#!/bin/sh
NAME="wlroots"
RELEASE="2"
VERSION="0.19.2"
SOURCES="https://gitlab.freedesktop.org/wlroots/wlroots/-/archive/$VERSION/wlroots-$VERSION.tar.gz"
NO_CHKUPD="true"
BUILD_DEPENDS="meson samurai xwayland xcb-util-wm"
DEPENDS="wayland wayland-protocols libdrm libxkbcommon libinput hwdata seatd pixman eudev mesa"
OPTDEPENDS="xwayland: XWayland support"
SHA256SUM="f0530ecaa8739d15f97bd1e1edddb77e281d57e42d4263fccb67157f71730d17"
DESCRIPTION="Modules for building a Wayland compositor"

build() {
    meson --prefix=/usr -Dxwayland=enabled build/
    ninja -C build/
}

package() {
    DESTDIR=$ROOT ninja -C build/ install
}
